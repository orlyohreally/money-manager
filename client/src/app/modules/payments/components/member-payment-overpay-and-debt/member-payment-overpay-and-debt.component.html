<ng-container *ngIf="overpaysAndDebtsList | async as overpaysAndDebts; loading">
  <ng-container *ngIf="overpaysAndDebts.length">
    <div class="member-debt-list">
      <h3>Family members' balances</h3>
      <payment-member-debt-list
        [debts]="overpaysAndDebts"
      ></payment-member-debt-list>
      <div class="text_link mat-caption" (click)="showMoreLessDetails()">
        {{ showMoreDetailedList ? 'Hide' : 'Show' }} more detailed list
      </div>
    </div>
    <ng-container *ngIf="showMoreDetailedList">
      <h3>List of debts and overpays</h3>
      <payment-member-overpay-and-debt-list
        class="member-overpay-and-debt-list"
        [calculatedPayments]="paymentTransactions | async"
      ></payment-member-overpay-and-debt-list>
    </ng-container>
  </ng-container>
</ng-container>
<ng-template #loading>
  <shared-loader></shared-loader>
</ng-template>
